<script>
    function xData() {
        return {
            orders: [],
            fetchOrders: async function () {
                try {
                    const response = await fetch('/order');
                    const data = await response.json();
                    console.log(data);
                    this.orders = data.orders;
                } catch (error) {
                    console.error('Error fetching orders:', error);
                }
            },
        };
    }
</script>
<main x-data="xData()" x-init="fetchOrders">
    <h2>All Orders</h2>

    <table>
        <thead>
            <tr>
                <th>Order</th>
                <th>Description</th>
                <th>Price</th>
                <th>Created At</th>
                <th>Status</th>
            </tr>
        </thead>
        <tbody>
            <template x-for="order in orders" :key="order.id">
                <tr>
                    <td x-text="order.title"></td>
                    <td x-text="order.description"></td>
                    <td x-text="order.price"></td>
                    <td x-text="order.createdAt"></td>
                    <td x-text="order.status"></td>
                </tr>
            </template>
        </tbody>
    </table>
</main>